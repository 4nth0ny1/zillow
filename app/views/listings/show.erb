<head>
  <style>
      .showing-container a {
        text-decoration: none;
        color: green;
      }

      .showing-container a:hover {
        color: orange;
      }

  </style>

</head>

  <h2><%= @listing.listing_description %></h2>
  <h4>Address: <%= @listing.address %></h4>
  <h4>Price: <%= @listing.price %></h4>
  <h4>Features: <%= @listing.features %></h4>

<br>
<div class="showing-container">
    <% if current_user != @listing.user %>
        <a href="/listings/<%= @listing.id %>/showings/new"><h3>Request a Showing</h3></a>
    <% end %>
</div>
<br>


<% if current_user == @listing.user %>  <!-- current_user and @listing.user returns their respective objs. --->
    <form action="/listings/<%= @listing.id %>/edit">
      <input type="submit" value="Update">
    </form>
 
    <br>

    <form action="/listings/<%= @listing.id %>" method="post">
      <input id="hidden" type="hidden" name="_method" value="delete">
      <input type="submit" value="Delete">
    </form>

    <br>
    <br>
 <% end %>


<% if @listing.user%>
  <h4>Agent: <%= @listing.user.name %></h4>           <!---#using the association -->
  <h4>Agent phone: <%= @listing.user.phone_number %></h4>
  <h4>Agent email: <%= @listing.user.email %> </h4>
<% else %>
  <p>no agent</p>
<% end %>